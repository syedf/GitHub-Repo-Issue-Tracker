function getRepoDetailsFromURL(e){if(e.length){var s=e.split("/");return{repoName:s[s.length-1],authorName:s[s.length-2]}}return 0}angular.module("GRIT",["ui.router"]),angular.module("GRIT").config(["$urlRouterProvider","$stateProvider","$locationProvider",function(e,s,t){t.html5Mode(!0),e.when("/movies/page/","/movies/page/0"),e.otherwise("/"),s.state("home",{url:"/",templateUrl:"/views/home.html",controller:"homeCtrl"})}]),angular.module("GRIT").controller("homeCtrl",["$scope","GitHubAPI",function(e,s){e.issues={},e.clear=function(){e.repoUrl="",e.issues={}},e.getIssues=function(t){t&&(s.getAllOpenIssues(t).success(function(s){e.issues.totalIssues=s.open_issues}).error(function(e){e.message?Materialize.toast(e.message,4e3):Materialize.toast("Unexpected Error Occurred, Please try again after an hour!",4e3)}),s.getOpenIssuesFrom24hours(t).success(function(r){e.issues.issuesInLast24Hours=r.length,s.getIssuesOpened24HoursAgoAndLessThanAWeek(t).success(function(s){e.issues.issuesInLast7Days=s.length-e.issues.issuesInLast24Hours,e.issues.issuesOpenMoreThan7daysAgo=e.issues.totalIssues-e.issues.issuesInLast7Days-e.issues.issuesInLast24Hours})}))}}]),angular.module("GRIT").service("GitHubAPI",["$http",function(e){var s=this,t="https://api.github.com/repos/";s.getAllOpenIssues=function(s){var r=getRepoDetailsFromURL(s);if(0!=r){var u=t+r.authorName+"/"+r.repoName;return e.get(u)}return{err:"Invalid URL"}},s.getOpenIssuesFrom24hours=function(s){var r=getRepoDetailsFromURL(s);if(0!=r){var u=new Date((new Date).getTime()-864e5),n=t+r.authorName+"/"+r.repoName+"/issues?since="+u.toISOString();return e.get(n)}return{err:"Invalid URL"}},s.getIssuesOpened24HoursAgoAndLessThanAWeek=function(s){var r=getRepoDetailsFromURL(s);if(0!=r){var u=new Date,n=new Date(u.getTime()-6048e5),o=t+r.authorName+"/"+r.repoName+"/issues?per_page=100&since="+n.toISOString();return e.get(o)}return{err:"Invalid URL"}}}]);